{% extends 'components/base.html' %}

{% block title %}{{post.title}}{% endblock %}

{% block content %}
<div class="container">
    <div>
        <div class="text-center my-3">
            <h1>{{post.title}}</h1>
            <img src="../../media/{{post.image}}" alt="..." width="300" style="border-radius: 1rem;">
        </div>
        <p style="text-align: justify;">{{post.content}}</p>
    </div>
    <div>
        <h3>Bình luận</h3>
        <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#add-comment">Thêm bình luận</button>
        <div class="modal fade" id="add-comment" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1>Thêm bình luận</h1>
                    </div>
                    <form action="" method="post">
                        {% csrf_token %}
                        <div class="modal-body">
                            {{form.as_p}}
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-primary">Thêm bình luận</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        {% for comment in comments %}
            <div class="comment my-3 ps-2">
                <h5>{{comment.user.username}}</h5>
                <p>{{comment.content|safe|linebreaks}}</p>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}